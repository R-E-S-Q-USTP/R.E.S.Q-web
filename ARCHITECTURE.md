# R.E.S.Q. System Architecture

## Overview Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         R.E.S.Q. FIRE MONITORING SYSTEM                  â”‚
â”‚                    Rapid Emergency Surveillance & Quenching              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IoT LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  ESP32-CAM Devices        IoT Sensor Hubs                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ Camera Feed  â”‚        â”‚ Smoke Sensor â”‚                     â”‚
â”‚  â”‚ YOLOv8 Local â”‚        â”‚ Heat Sensor  â”‚                     â”‚
â”‚  â”‚ Processing   â”‚        â”‚ Gas Sensor   â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ Flame Sensor â”‚                     â”‚
â”‚         â”‚                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚         â”‚                       â”‚                              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                     â”‚                                          â”‚
â”‚                     â–¼                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚              â”‚ MQTT Broker â”‚ (Optional)                        â”‚
â”‚              â”‚ or Direct   â”‚                                   â”‚
â”‚              â”‚ HTTP/HTTPS  â”‚                                   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Sensor Data / Images
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ML LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚            â”‚   YOLOv8 Fire Detection â”‚                         â”‚
â”‚            â”‚   (Python/FastAPI)      â”‚                         â”‚
â”‚            â”‚   - Image Analysis      â”‚                         â”‚
â”‚            â”‚   - Fire Classification â”‚                         â”‚
â”‚            â”‚   - Confidence Scoring  â”‚                         â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                         â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ Detection Results
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BACKEND LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚              â”‚  SUPABASE BACKEND     â”‚                         â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚
â”‚              â”‚  â”‚   PostgreSQL    â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚   - users       â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚   - devices     â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚   - incidents   â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚   - alerts      â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚   - sensors     â”‚  â”‚                         â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚
â”‚              â”‚                       â”‚                         â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚
â”‚              â”‚  â”‚  Supabase Auth  â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚  - JWT Tokens   â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚  - RLS Policies â”‚  â”‚                         â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚
â”‚              â”‚                       â”‚                         â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚
â”‚              â”‚  â”‚Realtime/WebSocketâ”‚ â”‚                         â”‚
â”‚              â”‚  â”‚- Live Updates   â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚- Alert Push     â”‚  â”‚                         â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚
â”‚              â”‚                       â”‚                         â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚
â”‚              â”‚  â”‚ Storage Buckets â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚ - Event Media   â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚ - Recordings    â”‚  â”‚                         â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚
â”‚              â”‚                       â”‚                         â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚
â”‚              â”‚  â”‚  Edge Functions â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚ - Data Process  â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚ - Triggers      â”‚  â”‚                         â”‚
â”‚              â”‚  â”‚ - SMS Gateway   â”‚  â”‚                         â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ REST API / GraphQL
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ FRONTEND LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚            â”‚   REACT WEB APP         â”‚                         â”‚
â”‚            â”‚   (Deployed on Vercel)  â”‚                         â”‚
â”‚            â”‚                         â”‚                         â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚
â”‚            â”‚  â”‚  Authentication    â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Login           â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Session Mgmt    â”‚ â”‚                         â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚            â”‚                         â”‚                         â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚
â”‚            â”‚  â”‚  Main Dashboard    â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Metrics         â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Active Alerts   â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Recent Incidentsâ”‚ â”‚                         â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚            â”‚                         â”‚                         â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚
â”‚            â”‚  â”‚  Monitoring Pages  â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Camera Feeds    â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Sensor Readings â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Live Map        â”‚ â”‚                         â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚            â”‚                         â”‚                         â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚
â”‚            â”‚  â”‚  Management        â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Incidents       â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Alerts          â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Analytics       â”‚ â”‚                         â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚            â”‚                         â”‚                         â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                         â”‚
â”‚            â”‚  â”‚  Admin Tools       â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - User Mgmt       â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Device Mgmt     â”‚ â”‚                         â”‚
â”‚            â”‚  â”‚  - Settings        â”‚ â”‚                         â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Browser / HTTPS
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ USER LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚  Fire Responder â”‚           â”‚  Admin User     â”‚         â”‚
â”‚     â”‚  (BFP Personnel)â”‚           â”‚  (System Admin) â”‚         â”‚
â”‚     â”‚                 â”‚           â”‚                 â”‚         â”‚
â”‚     â”‚  - View Alerts  â”‚           â”‚  - All FR Perms â”‚         â”‚
â”‚     â”‚  - Acknowledge  â”‚           â”‚  - User Mgmt    â”‚         â”‚
â”‚     â”‚  - Monitor      â”‚           â”‚  - Device Mgmt  â”‚         â”‚
â”‚     â”‚  - View Reports â”‚           â”‚  - Settings     â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ EXTERNAL SERVICES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚  SMS Gateway    â”‚           â”‚  Map Services   â”‚         â”‚
â”‚     â”‚  (Twilio/Other) â”‚           â”‚  (Leaflet/OSM)  â”‚         â”‚
â”‚     â”‚                 â”‚           â”‚                 â”‚         â”‚
â”‚     â”‚  - Alert SMS    â”‚           â”‚  - Map Tiles    â”‚         â”‚
â”‚     â”‚  - Notificationsâ”‚           â”‚  - Geocoding    â”‚         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. Normal Monitoring Flow

```
IoT Devices â†’ Sensors send data every 5s â†’ Supabase DB
                                         â†“
                                    React App (Real-time)
                                         â†“
                                    Display Updates
```

### 2. Fire Detection Flow (Sensor-based)

```
Sensor detects high readings
        â†“
Data sent to Supabase
        â†“
Edge Function checks thresholds
        â†“
    Threshold exceeded?
        â†“ YES
Create Incident Record
        â†“
Create Alert Record
        â†“
Trigger SMS (via Twilio)
        â†“
Real-time push to all connected clients
        â†“
Red alert banner appears on dashboard
        â†“
Browser notification
        â†“
Fire responder acknowledges
```

### 3. Fire Detection Flow (Camera-based)

```
ESP32-CAM captures image
        â†“
Send to ML API (YOLOv8)
        â†“
ML model analyzes image
        â†“
    Fire detected with confidence > 80%?
        â†“ YES
Send detection result to Supabase
        â†“
Create Incident Record (detection_method: 'YOLOv8')
        â†“
Save image to Storage
        â†“
Create Alert Record
        â†“
Trigger SMS
        â†“
Real-time push to clients
        â†“
Alert displayed
```

### 4. Alert Acknowledgment Flow

```
Fire Responder sees alert
        â†“
Clicks "Acknowledge" button
        â†“
UPDATE alerts SET status='acknowledged',
                  acknowledged_by=user_id,
                  acknowledged_at=NOW()
        â†“
Real-time update to all clients
        â†“
Alert moves to "Acknowledged" section
        â†“
Response team dispatched
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Security Layers               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  1. HTTPS/TLS Encryption            â”‚
â”‚     - All traffic encrypted         â”‚
â”‚     - Vercel automatic HTTPS        â”‚
â”‚                                     â”‚
â”‚  2. Authentication (Supabase Auth)  â”‚
â”‚     - JWT tokens                    â”‚
â”‚     - Secure session management     â”‚
â”‚     - Auto refresh tokens           â”‚
â”‚                                     â”‚
â”‚  3. Authorization (RLS Policies)    â”‚
â”‚     - Row Level Security            â”‚
â”‚     - Role-based access             â”‚
â”‚     - Query-level permissions       â”‚
â”‚                                     â”‚
â”‚  4. API Security                    â”‚
â”‚     - Rate limiting                 â”‚
â”‚     - CORS configuration            â”‚
â”‚     - Input validation              â”‚
â”‚                                     â”‚
â”‚  5. Database Security               â”‚
â”‚     - Prepared statements           â”‚
â”‚     - SQL injection prevention      â”‚
â”‚     - Encrypted at rest             â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   Vercel     â”‚          â”‚   Supabase   â”‚        â”‚
â”‚  â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚              â”‚        â”‚
â”‚  â”‚  - React App â”‚   API    â”‚  - Database  â”‚        â”‚
â”‚  â”‚  - CDN       â”‚          â”‚  - Auth      â”‚        â”‚
â”‚  â”‚  - Edge      â”‚          â”‚  - Storage   â”‚        â”‚
â”‚  â”‚  - Auto SSL  â”‚          â”‚  - Realtime  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                         â”‚                 â”‚
â”‚         â”‚                         â”‚                 â”‚
â”‚         â–¼                         â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚    Global CDN Distribution       â”‚              â”‚
â”‚  â”‚    - Fast worldwide access       â”‚              â”‚
â”‚  â”‚    - DDoS protection             â”‚              â”‚
â”‚  â”‚    - Auto scaling                â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tech Stack Summary

| Layer          | Technology              | Purpose                |
| -------------- | ----------------------- | ---------------------- |
| **Frontend**   | React 18                | UI framework           |
| **Build Tool** | Vite                    | Development & bundling |
| **Styling**    | TailwindCSS             | Utility-first CSS      |
| **Routing**    | React Router v6         | Client-side navigation |
| **Icons**      | Lucide React            | Icon library           |
| **Database**   | PostgreSQL (Supabase)   | Data storage           |
| **Auth**       | Supabase Auth           | User authentication    |
| **Real-time**  | Supabase Realtime       | WebSocket updates      |
| **Storage**    | Supabase Storage        | File storage           |
| **Backend**    | Supabase Edge Functions | Serverless functions   |
| **Hosting**    | Vercel                  | Frontend deployment    |
| **ML Model**   | YOLOv8                  | Fire detection         |
| **IoT**        | ESP32-CAM + Sensors     | Hardware devices       |
| **SMS**        | Twilio                  | Alert notifications    |

## Database Schema

```
users â”€â”€â”€â”€â”
          â”œâ”€â”€â–º Has many alerts (acknowledged_by)
stations â”€â”¤
          â”‚
devices â”€â”€â”¼â”€â”€â–º Has many sensor_readings
          â””â”€â”€â–º Has many incidents
                    â”‚
                    â”œâ”€â”€â–º Has many alerts
                    â””â”€â”€â–º Has many event_recordings
```

## Key Features Implemented

âœ… User Authentication & Authorization
âœ… Real-time Alert System
âœ… Dashboard with Live Metrics
âœ… Sensor Monitoring
âœ… Camera Management
âœ… Incident Tracking
âœ… Alert Management
âœ… Analytics & Reporting
âœ… Geographic Mapping (structure)
âœ… Admin Tools
âœ… Device Management
âœ… Role-Based Access Control
âœ… Browser Notifications
âœ… Responsive Design

## Integration Points (To Be Completed)

ğŸ”Œ ESP32-CAM Integration
ğŸ”Œ IoT Sensor Data Collection
ğŸ”Œ YOLOv8 ML Model API
ğŸ”Œ Twilio SMS Gateway
ğŸ”Œ Live Video Streaming
ğŸ”Œ Interactive Map (Leaflet)
ğŸ”Œ Data Visualization Charts

---

This architecture provides a scalable, secure, and real-time fire monitoring system capable of handling multiple IoT devices, ML-based detection, and instant alerting to save lives.
